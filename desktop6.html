<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./desktop6.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,500;0,700;0,800;1,800&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,500;0,700;1,700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;800&display=swap"
    />
  </head>
  <body>
    <div class="desktop-6">
      <div class="popup-message" id="popupMessage">Report submitted successfully</div>
      <div class="desktop-6-child"></div>
      <div class="desktop-6-item"></div>
      <div class="report-your-incident">Report your incident</div>
      <img class="back-icon" alt="" src="./public/back@2x.png" />

      <div class="desktop-6-inner">
        <textarea class="text-message" placeholder="Type your message..."></textarea>
      </div>
      <div class="desktop-6-child1">
        <select class="type-of-bullying">
          <option value="" disabled selected>Select Type of Bullying</option>
          <option value="cyberstalking">Cyberstalking</option>
          <option value="harassment">Harassment</option>
          <option value="doxxing">Doxxing</option>
          <option value="impersonation">Impersonation</option>
          <option value="trolling">Trolling</option>
          <option value="hate_speech">Hate Speech</option>
          <option value="outing">Outing (Revealing Private Info)</option>
      </select>
      </div>
      <div class="desktop-6-child2">
        <select class="platform">
          <option value="" disabled selected>Select Platform</option>
          <option value="facebook">Facebook</option>
          <option value="instagram">Instagram</option>
          <option value="twitter">Twitter/X</option>
          <option value="tiktok">TikTok</option>
          <option value="reddit">Reddit</option>
          <option value="youtube">YouTube</option>
          <option value="whatsapp">WhatsApp</option>
          <option value="snapchat">Snapchat</option>
          <option value="discord">Discord</option>
      </select>
      </div>
      <div class="desktop-6-child3">
        <input type="datetime-local" class="submit-report-as">
      </div>
      <i class="screenshortsimages">Screenshorts/Images</i>
      <div class="desktop-6-child4">
        <div>
          <input type="file" id="imageInput" accept="image/png, image/jpeg" multiple>
          <div class="preview" id="imagePreview"></div>
        </div>
        
        
      </div>
      <i class="documents">Documents</i>
      <div class="desktop-6-child5">
        <div>
          <input type="file" id="documentInput" accept="application/pdf" multiple>
          <div class="preview" id="documentPreview"></div>
        </div>
      </div>

      
      <i class="videos">Videos</i>
      <div class="desktop-6-child6">
        <div>
          <input type="file" id="videoInput" accept="video/mp4">
          <div class="preview" id="videoPreview"></div>
        </div>
      </div>
      <div class="incident-details">
        <ol class="incident-details1">
          <li>Incident Details</li>
        </ol>
      </div>
      <div class="upload-evidence">
        <ol class="incident-details1">
          <li>Upload Evidence</li>
        </ol>
      </div>
      
      <div class="report-submission">
        <ol class="incident-details1">
          <li>Report Submission</li>
        </ol>
      </div>
    
    <div class="preview" id="preview"></div>
      <i class="jpg-png">.Jpg, .Png</i>
      <i class="pdf">.Pdf</i>
      <i class="mp4">Mp4</i>
      <!-- <i class="type-of-bullying">Type of Bullying</i> -->
      <!-- <i class="text-message">text message...</i> -->
      <!-- <i class="documents">Documents</i> -->
      <!-- <i class="screenshortsimages">Screenshorts/Images</i> -->
      <!-- <i class="videos">Videos</i> -->
      <!-- <i class="platform">Platform</i> -->
      <!-- <i class="date-time">Date & Time</i> -->
      
      <div class="submit-report-wrapper">
        <div class="submit-report" id="submitReport">
          <i class="submit-report-as">Submit report </i>
          <b> </b>
        </div>
      </div>
    
      <div class="submit-report-container">
        <div class="submit-report2" id="submitReportAnonymous">
          <i class="submit-report-as">Submit report as anonymously</i>
          <b> </b>
        </div>
      </div>
    </div>
    

    <script>
      var frameContainer = document.getElementById("frameContainer");
      if (frameContainer) {
        frameContainer.addEventListener("click", function (e) {
          window.location.href = "./desktop1.html";
        });
      }

      var frameContainer1 = document.getElementById("frameContainer1");
      if (frameContainer1) {
        frameContainer1.addEventListener("click", function (e) {
          window.location.href = "./desktop1.html";
        });
      }


      function showPopupAndRedirect() {
        var popup = document.getElementById("popupMessage");
        popup.style.display = "block";
        
        setTimeout(function () {
          popup.style.display = "none";
          window.location.href = "#Tree"; // Redirect to home
        }, 3000);
      }
      
      document.getElementById("submitReport").addEventListener("click", showPopupAndRedirect);
      document.getElementById("submitReportAnonymous").addEventListener("click", showPopupAndRedirect);


// ---upload_evidence---

const imageInput = document.getElementById('imageInput');
        const videoInput = document.getElementById('videoInput');
        const documentInput = document.getElementById('documentInput');
        const imagePreview = document.getElementById('imagePreview');
        const videoPreview = document.getElementById('videoPreview');
        const documentPreview = document.getElementById('documentPreview');

        imageInput.addEventListener('change', handleImages);
        videoInput.addEventListener('change', handleVideo);
        documentInput.addEventListener('change', handleDocuments);

        function handleImages(event) {
            const files = event.target.files;
            imagePreview.innerHTML = "";
            Array.from(files).forEach(file => {
                if (file.type.startsWith('image/')) {
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(file);
                    imagePreview.appendChild(img);
                } else {
                    alert("Invalid image format! Only JPG and PNG are allowed.");
                }
            });
        }

        function handleVideo(event) {
            const file = event.target.files[0];
            if (file && file.type === 'video/mp4') {
                const video = document.createElement('video');
                video.src = URL.createObjectURL(file);
                video.controls = true;
                video.width = 200;
                videoPreview.innerHTML = "";
                videoPreview.appendChild(video);
            } else {
                alert("Invalid video format! Only MP4 is allowed.");
            }
        }

        function handleDocuments(event) {
            const files = event.target.files;
            documentPreview.innerHTML = "";
            Array.from(files).forEach(file => {
                if (file.type === 'application/pdf') {
                    const p = document.createElement('p');
                    p.textContent = `PDF File: ${file.name}`;
                    documentPreview.appendChild(p);
                } else {
                    alert("Invalid document format! Only PDF is allowed.");
                }
            });
        }



    </script>
  </body>
</html>
